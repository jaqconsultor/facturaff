/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
drop table if exists Bancos CASCADE 
drop table if exists CargaDeMovimientosBanesco CASCADE 
drop table if exists CargaDeMovimientosMercantil CASCADE 
drop table if exists CargaDeMovimientosPaypal CASCADE 
drop table if exists Catalogo CASCADE 
drop table if exists Clientes CASCADE 
drop table if exists Facturas CASCADE 
drop table if exists Facturas_detalles CASCADE 
drop table if exists IMAGES CASCADE 
drop table if exists NotasDeCredito CASCADE 
drop table if exists NotasDeDebito CASCADE 
drop table if exists OXDISCUSSIONCOMMENTS CASCADE 
create table Bancos (id integer generated by default as identity (start with 1), descripcion varchar(255), numero integer, primary key (id))
create table CargaDeMovimientosBanesco (id integer generated by default as identity (start with 1), descripcion varchar(255), balance double, fecha varchar(255), monto varchar(255), referencia varchar(255), primary key (id))
create table CargaDeMovimientosMercantil (id integer generated by default as identity (start with 1), activo boolean, descripcion varchar(255), conceptoDelMovimiento varchar(255), fechaDelMovimiento date, montoDeGastos double, montoDeIngresos double, numeroDeReferencia varchar(255), primary key (id))
create table CargaDeMovimientosPaypal (id integer generated by default as identity (start with 1), activo boolean, descripcion varchar(255), asunto varchar(255), bruto double, cantidad varchar(255), codigodepais varchar(255), codigopostal varchar(255), comision double, correoElectronicoDelDestinatario varchar(255), correoElectronicoDelRemitente varchar(255), direccion varchar(255), direcciondeenvio varchar(255), divisa varchar(255), estado varchar(255), fecha date, hora varchar(255), iddetransacci\u00f3n varchar(255), neto double, nombre varchar(255), nota varchar(255), numerodetelefonodecontacto varchar(255), pais varchar(255), poblacionociudad varchar(255), repercusionesenelsaldo varchar(255), saldo varchar(255), tipo varchar(255), zonahoraria varchar(255), primary key (id))
create table Catalogo (id integer generated by default as identity (start with 1), descripcion varchar(255), esServicio boolean not null, numero integer, precioDeVenta numeric(19,2) check (precioDeVenta>=0), primary key (id))
create table Clientes (id integer generated by default as identity (start with 1), activo boolean, descripcion varchar(255), correoDelCliente varchar(255), direccionDelCliente varchar(255), nit varchar(255), numero integer, razonSocialDelCliente varchar(255), rif varchar(255), telefonoPrincipal varchar(255), telefonoSecundario varchar(255), primary key (id))
create table Facturas (id integer generated by default as identity (start with 1), activo boolean, descripcion varchar(255), deContado boolean, fecha date, fechaDeEmision date, fechaDeVencimiento date, importeTotal numeric(19,2), iva numeric(19,2), numero integer, numeroControl varchar(20), porcentajeIVA numeric(2,0), cliente_id integer not null, primary key (id))
create table Facturas_detalles (Facturas_id integer not null, cantidad integer not null, precioPorUnidad numeric(19,2), producto_id integer not null)
create table IMAGES (ID varchar(32) not null, GALLERY varchar(32), image varbinary(16777216), primary key (ID))
create table NotasDeCredito (id integer generated by default as identity (start with 1), activo boolean, descripcion varchar(255), fecha date, importeTotal numeric(19,2), iva double, numero integer, numeroControl varchar(20), porcentajeIVA numeric(2,0), factura_id integer not null, primary key (id))
create table NotasDeDebito (id integer generated by default as identity (start with 1), activo boolean, descripcion varchar(255), fecha date, importeTotal numeric(19,2), iva double, numero integer, numeroControl varchar(20), porcentajeIVA numeric(2,0), factura_id integer not null, primary key (id))
create table OXDISCUSSIONCOMMENTS (id varchar(32) not null, comment clob(16777216), discussionId varchar(32), time timestamp, userName varchar(30), primary key (id))
create index IDXbhlx4vunn24ym1tbrlgq8g30m on OXDISCUSSIONCOMMENTS (discussionId)
alter table Facturas add constraint FKragm2u1748gh6vmv3k26dqncj foreign key (cliente_id) references Clientes
alter table Facturas_detalles add constraint FK66s88ehg5e0lqu7x0k619jvax foreign key (producto_id) references Catalogo
alter table Facturas_detalles add constraint FKppm4psaiixga8trjyrmvuh1sr foreign key (Facturas_id) references Facturas
alter table NotasDeCredito add constraint FK9rws5vraks9aijtdh9xijvqxg foreign key (factura_id) references Facturas
alter table NotasDeDebito add constraint FKawt9mawnl3vf40cyw1drya7vv foreign key (factura_id) references Facturas
INSERT INTO CLIENTES VALUES(1,TRUE,NULL,'','123123123123123123123123','',1,'21312312','213123123123','312312123123123','')
COMMIT
INSERT INTO CATALOGO VALUES(1,'123123123123',TRUE,1,110.00)
COMMIT
INSERT INTO FACTURAS VALUES(1,NULL,NULL,FALSE,NULL,'2023-06-26',NULL,127.60,17.60,1,'',16,1)
INSERT INTO FACTURAS_DETALLES VALUES(1,1,110.00,1)
COMMIT
